---
title: "Análisis de Categorías"
output: html_document
---

```{r setup, include=FALSE}

tryCatch({
  df <- read.csv("datos_combinados.csv")
}, error = function(e) {
  stop("No se encuentra el archivo. Verifica que 'datos_combinados.csv' esté en la misma carpeta que este script.")
})
```

## Exploración de Variables

A continuación se presentan las tablas de frecuencia:

```{r analisis, echo=FALSE, results='asis'}

vars <- c("depocu", "grethom", "escohom", "escomuj")

for (col in vars) {
  if (exists("df") && col %in% names(df)) {
    
    cat("\n### Variable:", col, "\n") 
    
    frecuencia <- table(df[[col]], useNA = "ifany")
    porcentaje <- round(prop.table(frecuencia) * 100, 2)
    
    resumen <- cbind(Frecuencia = frecuencia, Porcentaje = porcentaje)
    
    print(knitr::kable(resumen))
    cat("\n---\n")
    
  } else {
    cat("\n> **Error:** La variable", col, "no se encontró o el archivo no cargó.\n")
  }
}
```